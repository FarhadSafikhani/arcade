var e=Object.defineProperty,t=(t,a,i)=>((t,a,i)=>a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i)(t,"symbol"!=typeof a?a+"":a,i);import"./main-DwgLx9N3.js";import{A as a,C as i,b as n,G as s,S as o}from"./HTMLText-Ej0UY-1t.js";const r=()=>{const e=window.innerWidth/800,t=(window.innerHeight-120)/600;return{gameWidth:800,gameHeight:600,scale:Math.min(e,t)}};class d{constructor(e){t(this,"app"),t(this,"gameContainer"),t(this,"appleSprite"),t(this,"removeTopBarHandler"),t(this,"gameDimensions"),this.app=e,this.gameContainer=new i,this.app.stage.addChild(this.gameContainer),this.gameDimensions=r()}async init(){await this.loadAssets(),this.createBackground(),await this.createApple(),this.setupTopBarEvents()}async loadAssets(){await n.load("/arcade/assets/stickers/1-apple.png")}createBackground(){const e=new s;e.beginFill(16777215),e.drawRect(0,0,this.gameDimensions.gameWidth,this.gameDimensions.gameHeight),e.endFill(),this.gameContainer.addChild(e)}async createApple(){const e=await n.load("/arcade/assets/stickers/1-apple.png");this.appleSprite=new o(e),this.appleSprite.anchor.set(.5,.5),this.appleSprite.position.set(this.gameDimensions.gameWidth/2,this.gameDimensions.gameHeight/2),this.gameContainer.addChild(this.appleSprite)}setupTopBarEvents(){const e=e=>{"pause"===e.type?this.togglePause():"menu"===e.type&&this.returnToMainMenu()};document.addEventListener("pause",e),document.addEventListener("menu",e),this.removeTopBarHandler=()=>{document.removeEventListener("pause",e),document.removeEventListener("menu",e)}}update(e){}togglePause(){}destroy(){this.removeTopBarHandler&&this.removeTopBarHandler(),this.app.stage.removeChild(this.gameContainer),this.gameContainer.destroy({children:!0})}returnToMainMenu(){window.location.href="/arcade/"}}function h(){const e=document.querySelector("canvas");if(e){const t=r();e.style.width=t.gameWidth*t.scale+"px",e.style.height=t.gameHeight*t.scale+"px"}}window.addEventListener("load",async function(){const e=r(),t=new a({width:e.gameWidth,height:e.gameHeight,backgroundColor:16777215,antialias:!0,resolution:window.devicePixelRatio||1}),i=document.getElementById("gameContainer");i&&i.appendChild(t.view),h();const n=new d(t);await n.init(),t.ticker.add(e=>{n.update(e)}),window.addEventListener("resize",()=>{h()}),window.restartGame=()=>{},window.returnToMainMenu=()=>{n.returnToMainMenu()},window.resumeGame=()=>{},window.togglePause=()=>{n.togglePause()}});
