var t=Object.defineProperty,i=(i,s,e)=>((i,s,e)=>s in i?t(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e)(i,"symbol"!=typeof s?s+"":s,e);import"./main-Dacpvxy9.js";import"./game-top-bar-D2G5Ym00.js";import{A as s,C as e,G as h,P as r}from"./HTMLText-CcoN7BBX.js";const n=1920,o=1080,a=45,c=()=>{const t=window.innerWidth,i=window.innerHeight-120,s=t/n,e=i/o,h=Math.min(s,e);return{gameWidth:n,gameHeight:o,scale:h}};class l{constructor(t,s,r){i(this,"container"),i(this,"graphics"),i(this,"x"),i(this,"y"),i(this,"angle"),this.x=t,this.y=s,this.angle=r,this.container=new e,this.container.position.set(t,s),this.container.rotation=r,this.graphics=new h,this.graphics.lineStyle(4,16747520),this.graphics.moveTo(0,0),this.graphics.lineTo(50,0),this.graphics.beginFill(16747520),this.graphics.moveTo(50,-4),this.graphics.lineTo(50,4),this.graphics.lineTo(58,0),this.graphics.endFill(),this.graphics.beginFill(16747520),this.graphics.drawRect(-3,-2,6,4),this.graphics.endFill(),this.container.addChild(this.graphics)}destroy(){this.container.destroy()}}class d{constructor(t,s,r,n){i(this,"container"),i(this,"graphics"),i(this,"width"),i(this,"height"),this.container=new e,this.container.position.set(t,s),this.width=r,this.height=n,this.graphics=new h,this.graphics.beginFill(9127187),this.graphics.lineStyle(2,6636321),this.graphics.drawRect(0,0,r,n),this.graphics.endFill(),this.graphics.lineStyle(1,10506797);for(let i=0;i<n;i+=8)this.graphics.moveTo(0,i),this.graphics.lineTo(r,i);this.container.addChild(this.graphics)}destroy(){this.container.destroy()}checkCollision(t){const i=this.container.x,s=this.container.x+this.width,e=this.container.y,h=this.container.y+this.height;return t.x>=i&&t.x<=s&&t.y>=e&&t.y<=h}}class g{constructor(t,s,r,n){i(this,"container"),i(this,"graphics"),i(this,"x"),i(this,"y"),i(this,"width"),i(this,"height"),this.x=t,this.y=s,this.width=r,this.height=n,this.container=new e,this.container.position.set(t,s),this.graphics=new h,this.graphics.beginFill(9127187),this.graphics.lineStyle(2,6636321),this.graphics.drawRect(.4*r,.7*n,.2*r,.3*n),this.graphics.endFill(),this.graphics.beginFill(2263842),this.graphics.lineStyle(2,25600),this.graphics.drawRect(0,0,r,.7*n),this.graphics.endFill(),this.container.addChild(this.graphics)}destroy(){this.container.destroy()}checkCollision(t){const i=this.x,s=this.x+this.width,e=this.y,h=this.y+this.height;return t.x>=i&&t.x<=s&&t.y>=e&&t.y<=h}}class p{constructor(t,s,r){i(this,"container"),i(this,"graphics"),i(this,"x"),i(this,"y"),i(this,"vx"),i(this,"vy"),i(this,"width",60),i(this,"height",40),i(this,"active",!0),i(this,"game"),i(this,"flapTimer",0),i(this,"isFlapping",!1),i(this,"isHit",!1),this.x=t,this.y=s,this.game=r;const n=2*Math.random()+1;this.vx=Math.random()<.5?n:-n,this.vy=.5*Math.random()-.25,this.container=new e,this.container.position.set(t,s),this.graphics=new h,this.drawBird(),this.container.addChild(this.graphics)}drawBird(){if(this.graphics.clear(),this.graphics.lineStyle(4,0),this.isHit)return this.graphics.moveTo(0,-30),this.graphics.lineTo(30,0),void this.graphics.lineTo(60,-30);this.isFlapping?(this.graphics.moveTo(0,-10),this.graphics.lineTo(30,0),this.graphics.lineTo(60,-10)):(this.graphics.moveTo(0,10),this.graphics.lineTo(30,0),this.graphics.lineTo(60,10))}update(){return!(!this.active||(this.isHit?(this.vy+=.6,this.x+=.9*this.vx,this.y+=this.vy,this.isFlapping=!1,this.flapTimer=0,this.drawBird(),this.container.position.set(this.x,this.y),this.y>=1030&&(this.destroy(),1)):(this.flapTimer++,this.flapTimer>=15&&(this.isFlapping=!this.isFlapping,this.flapTimer=0,this.isHit||this.drawBird()),this.x+=this.vx,this.y+=this.vy,this.vy+=.1*Math.sin(.02*this.x),this.vy=Math.max(-.5,Math.min(.5,this.vy)),(this.x<=0||this.x>=n-this.width)&&(this.vx=-this.vx),(this.y<=50||this.y>=980)&&(this.vy=-this.vy),this.container.position.set(this.x,this.y),0)))}checkCollision(t){const i=this.x,s=this.x+this.width,e=this.y-this.height/2,h=this.y+this.height/2;return t.x>=i&&t.x<=s&&t.y>=e&&t.y<=h}destroy(){this.active=!1,this.container.destroy()}}class w{constructor(t,s,r,n,o){i(this,"x"),i(this,"y"),i(this,"vx"),i(this,"vy"),i(this,"active",!0),i(this,"container"),i(this,"graphics"),i(this,"length",50),i(this,"game"),this.x=t,this.y=s,this.vx=Math.cos(r)*n,this.vy=Math.sin(r)*n,this.game=o,this.container=new e,this.container.position.set(t,s),this.container.rotation=r,this.graphics=new h,this.graphics.lineStyle(4,16747520),this.graphics.moveTo(0,0),this.graphics.lineTo(this.length,0),this.graphics.beginFill(16747520),this.graphics.moveTo(this.length,-4),this.graphics.lineTo(this.length,4),this.graphics.lineTo(this.length+8,0),this.graphics.endFill(),this.graphics.beginFill(16747520),this.graphics.drawRect(-3,-2,6,4),this.graphics.endFill(),this.container.addChild(this.graphics)}update(){if(!this.active)return!1;this.vy+=.6,this.vx*=.999,this.x+=this.vx,this.y+=this.vy,this.container.position.set(this.x,this.y);const t=Math.atan2(this.vy,this.vx);if(this.container.rotation=t,this.game.target&&this.game.target.checkCollision(this)){const t=this.game.calculateCollisionPoint(this,this.game.target);return this.game.spawnStuckArrow(t.x,t.y,this.container.rotation),this.game.onTargetHit(),this.destroy(),!1}for(let i=this.game.boxes.length-1;i>=0;i--)if(this.game.boxes[i].checkCollision(this))return this.game.spawnStuckArrow(this.x,this.y,this.container.rotation),this.destroy(),!1;for(let i=this.game.trees.length-1;i>=0;i--)if(this.game.trees[i].checkCollision(this))return this.game.spawnStuckArrow(this.x,this.y,this.container.rotation),this.destroy(),!1;for(let i=this.game.birds.length-1;i>=0;i--){const t=this.game.birds[i];if(t.checkCollision(this))return t.isHit=!0,t.isFlapping=!1,t.drawBird(),this.destroy(),!1}return this.y>=1030?(this.game.spawnStuckArrow(this.x,1030,this.container.rotation),this.destroy(),!1):!(this.x>n||this.x<0)||(this.active=!1,this.container.destroy(),!1)}destroy(){this.active=!1,this.container.destroy()}}class u{constructor(t,s,r=30,n){i(this,"x"),i(this,"y"),i(this,"radius"),i(this,"container"),i(this,"graphics"),i(this,"platform"),this.x=t,this.y=s,this.radius=r,this.platform=n,this.container=new e,this.container.position.set(t,s),this.graphics=new h,this.graphics.beginFill(16729156),this.graphics.lineStyle(3,16777215),this.graphics.drawCircle(0,0,r),this.graphics.endFill(),this.graphics.beginFill(16776960),this.graphics.lineStyle(2,16777215),this.graphics.drawCircle(0,0,.6*r),this.graphics.endFill(),this.graphics.beginFill(16711680),this.graphics.lineStyle(2,16777215),this.graphics.drawCircle(0,0,.3*r),this.graphics.endFill(),this.container.addChild(this.graphics)}checkCollision(t){const i=t.x-this.x,s=t.y-this.y;return Math.sqrt(i*i+s*s)<=this.radius}destroy(){this.container.destroy(),this.platform&&this.platform.destroy()}}class m{constructor(t){i(this,"container"),i(this,"bodyContainer"),i(this,"arrowContainer"),i(this,"circle"),i(this,"bowArrow",null),i(this,"bowHand"),i(this,"game"),i(this,"bowRadius",35),this.game=t,this.container=new e,this.container.position.set(200,940),this.bodyContainer=new e;const s=new h;s.beginFill(8421504),s.drawRect(-30,20,18,32),s.endFill(),s.rotation=-.1;const r=new h;r.beginFill(16747520),r.drawRect(-30,5,4,12),r.endFill(),r.rotation=-.1,s.addChild(r);const n=new h;n.beginFill(16747520),n.drawRect(-25,5,4,12),n.endFill(),n.rotation=-.1,s.addChild(n);const o=new h;o.beginFill(16747520),o.drawRect(-20,5,4,12),o.endFill(),o.rotation=-.1,s.addChild(o),this.circle=new h,this.circle.beginFill(0),this.circle.drawCircle(0,0,20),this.circle.endFill();const a=new h;a.lineStyle(8,0),a.moveTo(0,20),a.lineTo(0,55),this.bowHand=new h,this.bowHand.lineStyle(6,0),this.bowHand.moveTo(0,35),this.bowHand.lineTo(35,0);const c=new h;c.lineStyle(8,0),c.moveTo(0,50),c.lineTo(-10,90);const l=new h;l.lineStyle(8,0),l.moveTo(0,50),l.lineTo(10,90),this.arrowContainer=new e,this.arrowContainer.y=15;const d=new h;d.lineStyle(6,9127187),d.arc(0,0,this.bowRadius,-Math.PI/2,Math.PI/2,!1),this.createNewBowArrow(),this.bodyContainer.addChild(s),this.bodyContainer.addChild(this.circle),this.bodyContainer.addChild(a),this.bodyContainer.addChild(this.bowHand),this.bodyContainer.addChild(c),this.bodyContainer.addChild(l),this.container.addChild(this.bodyContainer),this.arrowContainer.addChild(d),this.container.addChild(this.arrowContainer)}updateAngle(t){this.arrowContainer.rotation=t,this.updateHandPosition(t)}updateHandPosition(t){this.bowHand.clear(),this.bowHand.lineStyle(6,0),this.bowHand.moveTo(0,35);const i=Math.cos(t)*this.bowRadius,s=Math.sin(t)*this.bowRadius+15;this.bowHand.lineTo(i,s)}updateArrowPosition(t,i){if(!this.bowArrow)return;const s=t/i*20;this.bowArrow.container.x=-s,this.bowArrow.container.y=0}getBowArrow(){return this.bowArrow}clearBowArrow(){this.bowArrow=null}createNewBowArrow(){this.bowArrow=new w(0,0,0,0,this.game),this.bowArrow.active=!1,this.bowArrow.container.x=10,this.arrowContainer.addChild(this.bowArrow.container),this.updateArrowPosition(0,a)}destroy(){this.container.destroy()}}class y{constructor(t){i(this,"app"),i(this,"gameContainer"),i(this,"simpleArcher"),i(this,"projectiles",[]),i(this,"target",null),i(this,"boxes",[]),i(this,"trees",[]),i(this,"birds",[]),i(this,"stuckArrows",[]),i(this,"score",0),i(this,"highScore",0),i(this,"targetsHit",0),i(this,"currentRound",1),i(this,"isGameOver",!1),i(this,"isPaused",!1),i(this,"isWaitingToStart",!1),i(this,"isAiming",!1),i(this,"currentAngle",Math.PI/4),i(this,"currentPower",0),i(this,"powerCharging",!1),i(this,"isDragging",!1),i(this,"dragStartX",0),i(this,"dragStartY",0),i(this,"removeInputHandler"),i(this,"removeTopBarHandler"),i(this,"powerMeter"),i(this,"powerFill"),i(this,"angleIndicator"),i(this,"trajectoryLine"),i(this,"arrowsRemaining",10),i(this,"deltaAccumulator",0),i(this,"UPDATE_RATE",1/60),this.app=t,this.gameContainer=new e,this.app.stage.addChild(this.gameContainer),this.highScore=parseInt(localStorage.getItem("archerHighScore")||"0"),this.simpleArcher=new m(this),this.app.stage.addChild(this.simpleArcher.container),this.updateUI()}async init(){this.createUI(),this.createGround(),this.setupInput(),this.setupTopBarEvents(),this.updateUI(),this.spawnTarget()}createUI(){var t,i;this.powerMeter=document.createElement("div"),this.powerMeter.className="power-meter",this.powerFill=document.createElement("div"),this.powerFill.className="power-fill",this.powerMeter.appendChild(this.powerFill),this.angleIndicator=document.createElement("div"),this.angleIndicator.className="angle-indicator",this.angleIndicator.textContent="Angle: 45°",null==(t=document.getElementById("gameContainer"))||t.appendChild(this.powerMeter),null==(i=document.getElementById("gameContainer"))||i.appendChild(this.angleIndicator)}createGround(){const t=new h;t.beginFill(9419919),t.lineStyle(2,5597999),t.drawRect(0,1030,n,50),t.endFill(),t.lineStyle(1,5597999);for(let i=0;i<n;i+=20)t.moveTo(i,1030),t.lineTo(i+10,1020);this.app.stage.addChild(t)}setupTopBarEvents(){const t=t=>{"pause"===t.type?this.togglePause():"menu"===t.type&&this.returnToMainMenu()};document.addEventListener("pause",t),document.addEventListener("menu",t),this.removeTopBarHandler=()=>{document.removeEventListener("pause",t),document.removeEventListener("menu",t)}}setupInput(){this.app.stage.interactive=!0,this.app.stage.hitArea=this.app.screen,this.app.stage.on("pointermove",this.onPointerMove,this),this.app.stage.on("pointerdown",this.onPointerDown,this),this.app.stage.on("pointerup",this.onPointerUp,this),this.app.stage.on("pointerupoutside",this.onPointerUp,this),this.removeInputHandler=()=>{this.app.stage.off("pointermove",this.onPointerMove,this),this.app.stage.off("pointerdown",this.onPointerDown,this),this.app.stage.off("pointerup",this.onPointerUp,this),this.app.stage.off("pointerupoutside",this.onPointerUp,this)}}onPointerMove(t){if(!(this.isGameOver||this.isPaused||this.isWaitingToStart)&&(this.updateAim(t.global.x,t.global.y),this.isDragging)){const i=this.simpleArcher.container.x,s=this.simpleArcher.container.y,e=Math.sqrt(Math.pow(this.dragStartX-i,2)+Math.pow(this.dragStartY-s,2)),h=Math.sqrt(Math.pow(t.global.x-i,2)+Math.pow(t.global.y-s,2));if(Math.sqrt(Math.pow(t.global.x-this.dragStartX,2)+Math.pow(t.global.y-this.dragStartY,2))>5){const t=e-h;if(t>0?(this.powerCharging=!0,this.currentPower=Math.min(a,2+.05*t)):(this.powerCharging=!1,this.currentPower=Math.max(2,2+.05*t)),this.powerFill){const t=this.currentPower/a*100;this.powerFill.style.width=t+"%"}this.simpleArcher.updateArrowPosition(this.currentPower,a),this.updateTrajectoryLine()}}}onPointerDown(t){if(!(this.isGameOver||this.isPaused||this.isWaitingToStart)){if(this.isDragging=!0,this.dragStartX=t.global.x,this.dragStartY=t.global.y,this.isAiming=!0,this.powerCharging=!1,this.currentPower=2,this.powerFill){const t=this.currentPower/a*100;this.powerFill.style.width=t+"%"}this.simpleArcher.updateArrowPosition(this.currentPower,a)}}onPointerUp(t){this.isGameOver||this.isPaused||this.isWaitingToStart||(this.isDragging&&this.powerCharging&&this.shoot(),this.resetAimState())}updateAim(t,i){const s=t-this.simpleArcher.container.x,e=i-this.simpleArcher.container.y;this.currentAngle=Math.atan2(e,s),this.simpleArcher.updateAngle(this.currentAngle),this.angleIndicator&&(this.angleIndicator.textContent=`Angle: ${Math.round(180*this.currentAngle/Math.PI)}°`)}updateTrajectoryLine(){if(this.trajectoryLine&&(this.trajectoryLine.destroy(),this.trajectoryLine=void 0),!this.powerCharging||this.currentPower<2)return;this.trajectoryLine=new h;const t=this.simpleArcher.arrowContainer,i=this.simpleArcher.getBowArrow();if(!i)return;const s=i.container.x,e=i.container.y,o=t.toGlobal(new r(s,e)),a=Math.cos(this.currentAngle)*this.currentPower,c=Math.sin(this.currentAngle)*this.currentPower;let l=o.x,d=o.y,g=a,p=c;const w=[];w.push({x:l,y:d,skip:!1});let u=0,m=0;for(;m<1600;){if(p+=.6,g*=.999,l+=g,d+=p,m+=Math.sqrt(g*g+p*p),u+=Math.sqrt(g*g+p*p),u>=30&&(w.push({x:l,y:d,skip:m<80}),u=0),d>=1030){w.push({x:l,y:1030,skip:m<80});break}if(l>n||l<0)break}if(w.length>1){const t=w.length;for(let i=0;i<t-1;i++){const s=.4*(1-i/(t-1)*.9);this.trajectoryLine.lineStyle(4,"red",s),w[i].skip||(this.trajectoryLine.moveTo(w[i].x,w[i].y),this.trajectoryLine.lineTo(w[i+1].x,w[i+1].y))}}this.app.stage.addChild(this.trajectoryLine)}shoot(){if(!this.isAiming||!this.powerCharging)return;if(this.arrowsRemaining<=0)return;const t=this.simpleArcher.getBowArrow();if(!t)return;this.isAiming=!1,this.powerCharging=!1,this.arrowsRemaining--,this.simpleArcher.arrowContainer.removeChild(t.container);const i=this.simpleArcher.arrowContainer,s=t.container.x,e=t.container.y,h=i.toGlobal(new r(s,e));t.x=h.x,t.y=h.y,t.vx=Math.cos(this.currentAngle)*this.currentPower,t.vy=Math.sin(this.currentAngle)*this.currentPower,t.active=!0,t.container.position.set(t.x,t.y),t.container.rotation=this.currentAngle,this.projectiles.push(t),this.app.stage.addChild(t.container),this.simpleArcher.clearBowArrow(),this.simpleArcher.createNewBowArrow(),this.resetAimState(),this.updateUI()}update(t){this.isGameOver||this.isPaused||this.isWaitingToStart||(this.deltaAccumulator+=t,this.deltaAccumulator>=this.UPDATE_RATE&&(this.deltaAccumulator-=this.UPDATE_RATE,this.projectiles=this.projectiles.filter(t=>t.update()),this.birds=this.birds.filter(t=>t.update()),this.arrowsRemaining<=0&&0===this.projectiles.length&&this.gameOver()))}spawnStuckArrow(t,i,s){const e=new l(t,i,s);this.stuckArrows.push(e),this.app.stage.addChild(e.container)}spawnTarget(){let t,i,s;this.projectiles.forEach(t=>t.destroy()),this.projectiles=[],this.target&&(this.target.destroy(),this.target=null),this.boxes.forEach(t=>t.destroy()),this.boxes=[],this.trees.forEach(t=>t.destroy()),this.trees=[],this.stuckArrows.forEach(t=>t.destroy()),this.stuckArrows=[],this.birds.forEach(t=>t.destroy()),this.birds=[];const e=100*Math.random()+50,h=350*Math.random()+50,r=t=>t<680;let o,a=0;do{o=Math.random()*(n-e)+150,o=Math.max(150,Math.min(n-e-150,o)),a++}while(r(o)&&a<10);r(o)&&(o=n-e-200);const c=1030-h;s=new d(o,c,e,h),this.app.stage.addChild(s.container),this.boxes.push(s),t=o+e/2,i=c-50;const l=Math.floor(4*Math.random())+2,w=t-30;for(let n=0;n<l;n++){const t=100*Math.random()+40,i=350*Math.random()+80,s=Math.random()*(w-480-t)+480,e=new g(s,1030-i,t,i);this.app.stage.addChild(e.container),this.trees.push(e)}this.target=new u(t,i,50,s),this.app.stage.addChild(this.target.container);const m=Math.floor(6*Math.random())+3;for(let n=0;n<m;n++){const t=1860*Math.random(),i=830*Math.random()+100,s=new p(t,i,this);this.birds.push(s),this.app.stage.addChild(s.container)}}gameOver(){this.isGameOver=!0,this.score>this.highScore&&(this.highScore=this.score,localStorage.setItem("archerHighScore",this.highScore.toString())),this.showGameOver()}showGameOver(){const t=document.getElementById("gameOver"),i=document.getElementById("finalScore"),s=document.getElementById("finalTargets"),e=document.getElementById("finalRounds");t&&i&&s&&e&&(i.textContent=this.score.toString(),s.textContent=this.targetsHit.toString(),e.textContent=(this.currentRound-1).toString(),t.style.display="block")}updateUI(){const t=document.getElementById("arrows"),i=document.getElementById("score"),s=document.getElementById("highScore");t&&(t.textContent=this.arrowsRemaining.toString()),i&&(i.textContent=this.score.toString()),s&&(s.textContent=this.highScore.toString())}togglePause(){this.isPaused=!this.isPaused,this.isPaused?this.showPauseMenu():this.hidePauseMenu()}showPauseMenu(){const t=document.getElementById("pauseMenu");t&&(t.style.display="block")}hidePauseMenu(){const t=document.getElementById("pauseMenu");t&&(t.style.display="none")}restart(){this.projectiles.forEach(t=>t.destroy()),this.target&&(this.target.destroy(),this.target=null),this.boxes.forEach(t=>t.destroy()),this.trees.forEach(t=>t.destroy()),this.birds.forEach(t=>t.destroy()),this.stuckArrows.forEach(t=>t.destroy()),this.projectiles=[],this.boxes=[],this.trees=[],this.birds=[],this.stuckArrows=[],this.isGameOver=!1,this.isPaused=!1,this.isWaitingToStart=!1,this.arrowsRemaining=10,this.score=0,this.targetsHit=0,this.resetAimState(),this.simpleArcher.updateAngle(this.currentAngle),this.updateUI();const t=document.getElementById("gameOver"),i=document.getElementById("pauseMenu");t&&(t.style.display="none"),i&&(i.style.display="none"),this.spawnTarget()}resume(){this.isPaused=!1,this.hidePauseMenu()}destroy(){this.removeInputHandler&&this.removeInputHandler(),this.removeTopBarHandler&&this.removeTopBarHandler(),this.projectiles.forEach(t=>t.destroy()),this.target&&this.target.destroy(),this.boxes.forEach(t=>t.destroy()),this.trees.forEach(t=>t.destroy()),this.birds.forEach(t=>t.destroy()),this.stuckArrows.forEach(t=>t.destroy()),this.trajectoryLine&&this.trajectoryLine.destroy(),this.simpleArcher.destroy(),this.app.stage.removeChild(this.gameContainer)}returnToMainMenu(){window.location.href="/arcade/"}startGame(){}calculateCollisionPoint(t,i){const s=t.x-t.vx,e=t.y-t.vy,h=i.x,r=i.y,n=i.radius,o=t.x-s,a=t.y-e,c=s-h,l=e-r,d=o*o+a*a,g=2*(c*o+l*a),p=g*g-4*d*(c*c+l*l-n*n);if(p<0)return{x:t.x,y:t.y};const w=(-g-Math.sqrt(p))/(2*d),u=Math.max(0,Math.min(1,w));return{x:s+o*u,y:e+a*u}}resetAimState(){this.isAiming=!1,this.powerCharging=!1,this.isDragging=!1,this.currentPower=0,this.simpleArcher.updateArrowPosition(0,a),this.powerFill&&(this.powerFill.style.width="0%"),this.angleIndicator&&(this.angleIndicator.textContent="Angle: 45°"),this.trajectoryLine&&(this.trajectoryLine.destroy(),this.trajectoryLine=void 0)}onTargetHit(){this.targetsHit++,this.score++,this.arrowsRemaining+=2,this.updateUI(),this.spawnTarget()}}let x=null,v=null;function C(){if(!v)return;const t=c(),i=v.view;i.style.width=n*t.scale+"px",i.style.height=o*t.scale+"px"}window.restartGame=()=>{x&&x.restart()},window.returnToMainMenu=()=>{x&&x.returnToMainMenu()},window.resumeGame=()=>{x&&x.resume()},window.togglePause=()=>{x&&x.togglePause()},window.addEventListener("load",async function(){const t=c();v=new s({width:n,height:o,backgroundColor:8900331,antialias:!0,resolution:window.devicePixelRatio||1});const i=document.getElementById("gameContainer");if(i){const s=v.view;s.style.width=n*t.scale+"px",s.style.height=o*t.scale+"px",s.style.maxWidth="100%",s.style.maxHeight="100%",s.style.objectFit="contain",i.appendChild(s)}x=new y(v),await x.init(),v.ticker.add(t=>{x&&x.update(t)}),window.addEventListener("resize",C)});
